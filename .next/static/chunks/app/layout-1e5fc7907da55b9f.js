(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},1666:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_e8ce0c",variable:"__variable_e8ce0c"}},2181:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,1666,23)),Promise.resolve().then(s.t.bind(s,6499,23)),Promise.resolve().then(s.t.bind(s,347,23)),Promise.resolve().then(s.bind(s,9674)),Promise.resolve().then(s.bind(s,6213)),Promise.resolve().then(s.bind(s,9576))},6213:(e,t,s)=>{"use strict";s.d(t,{CartProvider:()=>n,_:()=>i});var r=s(5155),l=s(2115);let a=(0,l.createContext)(void 0);function n(e){let{children:t}=e,[s,n]=(0,l.useState)([]),[i,o]=(0,l.useState)(!1),[c,d]=(0,l.useState)(0);(0,l.useEffect)(()=>{let e=localStorage.getItem("sonnas-cart");if(e){let t=JSON.parse(e).items||[];n(t),d(u(t))}},[]),(0,l.useEffect)(()=>{let e=()=>{n([]),o(!1),d(0)};return window.addEventListener("auth-logout",e),()=>{window.removeEventListener("auth-logout",e)}},[]),(0,l.useEffect)(()=>{localStorage.setItem("sonnas-cart",JSON.stringify({items:s})),d(u(s))},[s]);let u=e=>e.reduce((e,t)=>e+t.price*t.quantity,0),m=e=>{n(t=>t.filter(t=>t.id!==e))};return(0,r.jsx)(a.Provider,{value:{items:s,isOpen:i,total:c,addToCart:e=>{n(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}]),o(!0)},removeFromCart:m,updateQuantity:(e,t)=>{if(t<=0)return void m(e);n(s=>s.map(s=>s.id===e?{...s,quantity:t}:s))},toggleCart:()=>{o(e=>!e)},clearCart:()=>{n([])}},children:t})}function i(){let e=(0,l.useContext)(a);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},6499:e=>{e.exports={style:{fontFamily:"'Playfair Display', 'Playfair Display Fallback'",fontStyle:"normal"},className:"__className_65f816",variable:"__variable_65f816"}},9576:(e,t,s)=>{"use strict";s.d(t,{A:()=>n,AuthProvider:()=>i});var r=s(5155),l=s(2115);let a=(0,l.createContext)(void 0);function n(){let e=(0,l.useContext)(a);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}function i(e){let{children:t}=e,[s,n]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{localStorage.getItem("authToken")&&n(!0)},[]),(0,r.jsx)(a.Provider,{value:{isAuthenticated:s,login:e=>{localStorage.setItem("authToken",e),n(!0)},logout:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("sonnas-cart"),n(!1),window.dispatchEvent(new CustomEvent("auth-logout"))}},children:t})}},9674:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(5155),l=s(6766),a=s(6874),n=s.n(a),i=s(6213);function o(){let{isOpen:e,items:t,total:s,toggleCart:a,updateQuantity:o,removeFromCart:c,clearCart:d}=(0,i._)();return e?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:a}),(0,r.jsx)("div",{className:"absolute right-0 top-0 h-full w-full max-w-sm bg-brown-800 shadow-xl",children:(0,r.jsxs)("div",{className:"flex h-full flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-brown-700",children:[(0,r.jsx)("h2",{className:"text-lg font-display font-bold text-white",children:"Your Cart"}),(0,r.jsx)("button",{onClick:a,className:"text-brown-300 hover:text-white",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:0===t.length?(0,r.jsxs)("div",{className:"text-center py-10",children:[(0,r.jsx)("svg",{className:"w-12 h-12 mx-auto text-brown-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m-2.4-2l2 10m0 0h12m-8 4a2 2 0 100 4 2 2 0 000-4zm8 0a2 2 0 100 4 2 2 0 000-4z"})}),(0,r.jsx)("p",{className:"text-brown-300",children:"Your cart is empty"}),(0,r.jsx)("p",{className:"text-brown-400 text-sm mt-1",children:"Add some delicious items to get started!"})]}):(0,r.jsx)("div",{className:"space-y-3",children:t.map(e=>(0,r.jsxs)("div",{className:"flex items-center space-x-3 bg-brown-700 rounded-lg p-3",children:[(0,r.jsx)("div",{className:"relative w-14 h-14 rounded-md overflow-hidden",children:(0,r.jsx)(l.default,{src:e.image,alt:e.name,fill:!0,className:"object-cover"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h3",{className:"text-white font-medium truncate",children:e.name}),(0,r.jsxs)("p",{className:"text-amber-300 font-semibold",children:["$",e.price.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)("button",{onClick:()=>o(e.id,e.quantity-1),className:"w-7 h-7 rounded-full bg-brown-600 text-white flex items-center justify-center hover:bg-brown-500",children:"-"}),(0,r.jsx)("span",{className:"text-white font-medium w-7 text-center",children:e.quantity}),(0,r.jsx)("button",{onClick:()=>o(e.id,e.quantity+1),className:"w-7 h-7 rounded-full bg-brown-600 text-white flex items-center justify-center hover:bg-brown-500",children:"+"})]}),(0,r.jsx)("button",{onClick:()=>c(e.id),className:"text-red-400 hover:text-red-300 p-1",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},e.id))})}),t.length>0&&(0,r.jsxs)("div",{className:"border-t border-brown-700 p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("span",{className:"text-white font-semibold",children:"Total:"}),(0,r.jsxs)("span",{className:"text-amber-300 font-bold text-lg",children:["$",s.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(n(),{href:"/checkout",children:(0,r.jsx)("button",{className:"w-full bg-amber-600 hover:bg-amber-700 text-white py-2.5 rounded-lg font-semibold transition-colors",children:"Proceed to Checkout"})}),(0,r.jsx)("button",{onClick:d,className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg font-medium transition-colors",children:"Clear Cart"})]})]})]})})]}):null}}},e=>{e.O(0,[625,874,766,441,964,358],()=>e(e.s=2181)),_N_E=e.O()}]);